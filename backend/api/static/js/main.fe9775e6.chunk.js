(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{28:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(1),a=n.n(r),s=n(21),i=n.n(s),o=n(7),h=n(2);n(28);function l(){return Object(c.jsxs)("div",{id:"homepage",children:[Object(c.jsx)("header",{children:"Welcome"}),Object(c.jsxs)("section",{children:[Object(c.jsx)(o.b,{to:"/marksinput",children:Object(c.jsx)("button",{children:"ENTER MARKS"})}),Object(c.jsx)(o.b,{to:"/leaderboard",children:Object(c.jsx)("button",{children:"LEADERBOARD"})})]})]})}var u=n(11),d=n(12),j=n(13),m=n(15),b=n(14),p=(n(34),"https://almabetter-assignment.herokuapp.com"),x=0,O=0,g=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(d.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={roll:null,name:"",math:0,phys:0,chem:0},t.handleChange=function(e){t.setState(Object(u.a)({},e.target.name,"name"===e.target.name?e.target.value:Number(e.target.value)))},t.handleSubmit=function(e){e.preventDefault(),fetch("".concat(p,"/add"),{method:"POST",body:JSON.stringify({roll:t.state.roll,name:t.state.name,math:t.state.math,phys:t.state.phys,chem:t.state.chem,total:x,percent:O})}).then((function(t){return t.json()})).then((function(e){"error"in e?alert(e.error):(t.setState({roll:null,name:"",math:0,phys:0,chem:0,error:null}),document.querySelectorAll("input").forEach((function(t){return t.value=""})),alert("Added Successfully!"))})).catch((function(t){alert(String(t))}))},t}return Object(j.a)(n,[{key:"render",value:function(){return x=this.state.math+this.state.phys+this.state.chem,O=x/3,Object(c.jsxs)("div",{id:"marksinput",children:[Object(c.jsx)("header",{children:"ENTER MARKS"}),Object(c.jsxs)("section",{children:[Object(c.jsxs)("div",{id:"show",children:[Object(c.jsxs)("div",{className:"small",children:[Object(c.jsx)("div",{className:"big",children:x.toFixed(1)}),"Total Marks"]}),Object(c.jsxs)("div",{className:"small",children:[Object(c.jsxs)("div",{className:"big",children:[O.toFixed(2),"%"]}),"Percentage"]})]}),Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsx)("input",{type:"number",name:"roll",onChange:this.handleChange,placeholder:"Roll No",min:"0",max:"9999999999",required:!0}),Object(c.jsx)("input",{type:"text",name:"name",onChange:this.handleChange,maxLength:"30",placeholder:"Name",required:!0}),Object(c.jsx)("input",{type:"number",name:"math",onChange:this.handleChange,min:"0",max:"100",placeholder:"Marks in Maths",required:!0}),Object(c.jsx)("input",{type:"number",name:"phys",onChange:this.handleChange,min:"0",max:"100",placeholder:"Marks in Physics",required:!0}),Object(c.jsx)("input",{type:"number",name:"chem",onChange:this.handleChange,min:"0",max:"100",placeholder:"Marks in Chemistry",required:!0}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]})]}),Object(c.jsx)(o.b,{to:"/",id:"backbutton",children:"Back to Homepage"})]})}}]),n}(r.Component),f=n(10),C=(n(35),Object(c.jsx)("svg",{className:"sort-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})),v=Object(c.jsx)("svg",{className:"sort-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),_=Object(c.jsx)("svg",{className:"search-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),S=function(t){"DSC"===t.prcnt_icon?t.marks.sort((function(t,e){return t.percentage-e.percentage})):t.marks.sort((function(t,e){return e.percentage-t.percentage})),"DSC"===t.prcnt_icon?t.changeIcon("prcnt_icon","ASC"):t.changeIcon("prcnt_icon","DSC")},k=function(t){Object(m.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(d.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={marks:[],loading:!0,error:null,roll_icon:null,name_icon:null,math_icon:null,phys_icon:null,chem_icon:null,total_icon:null,prcnt_icon:null,changeIcon:function(e,n){t.resetIcon(),t.setState(Object(u.a)({},e,n))},search:[]},t}return Object(j.a)(n,[{key:"resetIcon",value:function(){this.setState({roll_icon:null,name_icon:null,math_icon:null,phys_icon:null,chem_icon:null,total_icon:null,prcnt_icon:null})}},{key:"componentDidMount",value:function(){var t=this;fetch("".concat(p,"/get")).then((function(t){return t.json()})).then((function(e){t.setState({marks:Object(f.a)(e.marks),loading:!1}),S(t.state)})).catch((function(e){return t.setState({error:e})}))}},{key:"search",value:function(t){if(t.target.value.length>0){var e=t.target.value.toUpperCase(),n=this.state.search.filter((function(t){var n=t.name.toUpperCase(),c=String(t.roll_no);return!!n.includes(e)||!!c.includes(e)}));this.setState({marks:Object(f.a)(n)})}else this.setState({marks:Object(f.a)(this.state.search)})}},{key:"initSearch",value:function(){this.setState({search:Object(f.a)(this.state.marks)})}},{key:"render",value:function(){var t=this;return Object(c.jsxs)("div",{id:"leaderboard",children:[Object(c.jsx)("header",{children:"LEADERBOARD"}),Object(c.jsxs)("section",{children:[Object(c.jsxs)("div",{id:"search",children:[Object(c.jsx)("div",{id:"icon-container",children:_}),Object(c.jsx)("input",{type:"text",placeholder:"Seach Name or RollNo",onChange:function(e){return t.search(e)},onFocus:function(e){return t.initSearch(e)}})]}),this.state.loading?Object(c.jsx)("div",{className:"loading",children:"LOADING..."}):Object(c.jsxs)("table",{children:[Object(c.jsxs)("thead",{children:[Object(c.jsxs)("tr",{id:"headings",children:[Object(c.jsx)("th",{onClick:function(){return"ASC"===(e=t.state).roll_icon?e.marks.sort((function(t,e){return e.roll_no-t.roll_no})):e.marks.sort((function(t,e){return t.roll_no-e.roll_no})),void("ASC"===e.roll_icon?e.changeIcon("roll_icon","DSC"):e.changeIcon("roll_icon","ASC"));var e},children:"Roll No"}),Object(c.jsx)("th",{onClick:function(){return"ASC"===(e=t.state).name_icon?e.marks.sort((function(t,e){var n=t.name.toUpperCase(),c=e.name.toUpperCase();return c<n?-1:c>n?1:0})):e.marks.sort((function(t,e){var n=t.name.toUpperCase(),c=e.name.toUpperCase();return n<c?-1:n>c?1:0})),void("ASC"===e.name_icon?e.changeIcon("name_icon","DSC"):e.changeIcon("name_icon","ASC"));var e},children:"Name"}),Object(c.jsx)("th",{onClick:function(){return"DSC"===(e=t.state).math_icon?e.marks.sort((function(t,e){return t.maths-e.maths})):e.marks.sort((function(t,e){return e.maths-t.maths})),void("DSC"===e.math_icon?e.changeIcon("math_icon","ASC"):e.changeIcon("math_icon","DSC"));var e},children:"Maths"}),Object(c.jsx)("th",{onClick:function(){return"DSC"===(e=t.state).phys_icon?e.marks.sort((function(t,e){return t.physics-e.physics})):e.marks.sort((function(t,e){return e.physics-t.physics})),void("DSC"===e.phys_icon?e.changeIcon("phys_icon","ASC"):e.changeIcon("phys_icon","DSC"));var e},children:"Physics"}),Object(c.jsx)("th",{onClick:function(){return"DSC"===(e=t.state).chem_icon?e.marks.sort((function(t,e){return t.chemistry-e.chemistry})):e.marks.sort((function(t,e){return e.chemistry-t.chemistry})),void("DSC"===e.chem_icon?e.changeIcon("chem_icon","ASC"):e.changeIcon("chem_icon","DSC"));var e},children:"Chemistry"}),Object(c.jsx)("th",{onClick:function(){return"DSC"===(e=t.state).total_icon?e.marks.sort((function(t,e){return t.total-e.total})):e.marks.sort((function(t,e){return e.total-t.total})),void("DSC"===e.total_icon?e.changeIcon("total_icon","ASC"):e.changeIcon("total_icon","DSC"));var e},children:"Total"}),Object(c.jsx)("th",{onClick:function(){return S(t.state)},children:"Percentage"})]}),Object(c.jsxs)("tr",{id:"icons",children:[Object(c.jsx)("th",{children:this.state.roll_icon&&("ASC"===this.state.roll_icon?v:C)}),Object(c.jsx)("th",{children:this.state.name_icon&&("ASC"===this.state.name_icon?v:C)}),Object(c.jsx)("th",{children:this.state.math_icon&&("ASC"===this.state.math_icon?v:C)}),Object(c.jsx)("th",{children:this.state.phys_icon&&("ASC"===this.state.phys_icon?v:C)}),Object(c.jsx)("th",{children:this.state.chem_icon&&("ASC"===this.state.chem_icon?v:C)}),Object(c.jsx)("th",{children:this.state.total_icon&&("ASC"===this.state.total_icon?v:C)}),Object(c.jsx)("th",{children:this.state.prcnt_icon&&("DSC"===this.state.prcnt_icon?C:v)})]})]}),Object(c.jsx)("tbody",{children:this.state.marks.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.roll_no}),Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:t.maths.toFixed(1)}),Object(c.jsx)("td",{children:t.physics.toFixed(1)}),Object(c.jsx)("td",{children:t.chemistry.toFixed(1)}),Object(c.jsx)("td",{children:t.total.toFixed(1)}),Object(c.jsx)("td",{children:t.percentage.toFixed(2)})]},t.roll_no)}))})]})]}),Object(c.jsx)(o.b,{to:"/",children:"Back to Homepage"}),Object(c.jsx)("div",{className:"error",children:this.state.error&&String(this.state.error)})]})}}]),n}(r.Component);var y=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{exact:!0,path:"/",component:l}),Object(c.jsx)(h.a,{path:"/marksinput",component:g}),Object(c.jsx)(h.a,{path:"/leaderboard",component:k})]})})},A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),A()}},[[36,1,2]]]);
//# sourceMappingURL=main.fe9775e6.chunk.js.map